<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi Tienda PRO</title>
<style>
  body { font-family: 'Segoe UI', sans-serif; margin:0; background:#f2f2f2; }
  header { background:#4C8BFF; padding:15px; color:#fff; font-size:22px; text-align:center; box-shadow:0 2px 5px rgba(0,0,0,0.2); }
  
  /* CAT√ÅLOGO */
  #catalogo { padding:20px; display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; }
  .card { background:#fff; padding:15px; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.15); transition:0.3s; }
  .card:hover { transform:translateY(-5px); }

  .carousel { position:relative; }
  .carousel img { width: 100%; max-height: 180px; object-fit: contain; border-radius: 10px; }
  .btn-prev, .btn-next {
    position:absolute; top:50%; transform:translateY(-50%);
    background:rgba(0,0,0,0.5); color:#fff; border:none;
    padding:8px 12px; cursor:pointer; border-radius:50%; font-size:14px;
  }
  .btn-prev { left:10px; }
  .btn-next { right:10px; }

  .miniaturas { display:flex; justify-content:center; gap:5px; margin-top:8px; }
  .miniaturas img { width:40px; height:40px; object-fit:cover; border-radius:6px; cursor:pointer; opacity:0.6; }
  .miniaturas img.active { border:2px solid #4C8BFF; opacity:1; }

  .precio { color:#2E7D32; font-weight:bold; font-size:20px; }
  .btn-agregar {
    width:100%; background:#4C8BFF; color:white; border:none; padding:10px;
    margin-top:10px; border-radius:8px; font-size:16px; cursor:pointer;
  }
  .btn-agregar:hover { background:#3A6FD9; }

  /* CARRITO */
  #carritoPanel {
    position:fixed; right:-400px; top:0; width:350px; height:100%;
    background:#fff; box-shadow:-3px 0 6px rgba(0,0,0,0.2);
    padding:20px; transition:0.3s; overflow-y:auto;
  }
  #carritoPanel.open { right:0; }
  .carrito-item { border-bottom:1px solid #ddd; padding:10px 0; }

  /* FORMULARIO ENV√çO */
  #formEnvio { background:#fff; padding:20px; border-radius:12px; width:90%; max-width:450px; margin:20px auto; box-shadow:0 2px 6px rgba(0,0,0,0.2); }
  input, select, textarea { width:100%; padding:10px; margin:8px 0; border-radius:8px; border:1px solid #bbb; }
  button { cursor:pointer; }
  #btnPagar {
    width:100%; background:#2E7D32; color:white; padding:12px;
    border:none; border-radius:8px; font-size:17px;
  }

  /* ADMIN */
  #adminPanel { background:#fff; padding:20px; margin:20px; border-radius:12px; }
  #adminPanel input, #adminPanel textarea { width:100%; margin-bottom:10px; }
  #btnGuardar { background:#4C8BFF; color:#fff; padding:10px; border:none; border-radius:8px; }

  .floating-cart {
    position:fixed; bottom:20px; right:20px; background:#4C8BFF; color:white;
    padding:15px; border-radius:50%; font-size:22px; cursor:pointer;
    box-shadow:0 3px 6px rgba(0,0,0,0.3);
  }
</style>
</head>
<body>
<header>‚ú® Tienda dSALGLEZ  ‚ú®</header>

<!-- BOT√ìN CARRITO -->
<div class="floating-cart" onclick="toggleCarrito()">üõí</div>

<!-- CAT√ÅLOGO -->
<div id="catalogo"></div>

<!-- PANEL CARRITO -->
<div id="carritoPanel">
  <h2>Carrito</h2>
  <div id="listaCarrito"></div>
  <h3>Total: $<span id="totalCarrito">0</span></h3>
  <button onclick="mostrarEnvio()">Proceder al env√≠o</button>
</div>

<!-- FORMULARIO DE ENV√çO -->
<div id="formEnvio" style="display:none;">
  <h2>Datos de Env√≠o</h2>
  <input id="nombreCliente" placeholder="Tu nombre">
  <input id="telefonoCliente" placeholder="Tel√©fono">
  <input id="direccionCliente" placeholder="Direcci√≥n completa">

  <h3>M√©todo de pago</h3>
  <p>Deposita a esta cuenta:</p>
  <p><b>Banco:</b> banCoppel</p>
  <p><b>Nombre:</b> Diego Salabarr√≠a</p>
  <p><b>CLABE:</b> 137050103711041903</p>

  <button id="btnPagar" onclick="finalizarPedido()">Finalizar pedido</button>
</div>

<!-- PANEL ADMIN -->
<div id="adminPanel">
  <h2>ADMIN - Agregar producto</h2>

  <input id="pNombre" placeholder="Nombre del producto">
  <input id="pPrecio" placeholder="Precio" type="number">
  <input id="pImagenes" placeholder="URLs de im√°genes separadas por coma">
  <input id="pCategoria" placeholder="Categor√≠a / Marca">
  <input id="pStock" placeholder="Stock disponible" type="number">
  <input id="pOrigen" placeholder="Origen (China, M√©xico, USA...)">
  <input id="pTiempo" placeholder="Tiempo estimado de entrega">
  <label><input type="checkbox" id="pEnvio"> Env√≠o gratis</label>
  <textarea id="pDesc" placeholder="Descripci√≥n"></textarea>
  <button id="btnGuardar" onclick="guardarProducto()">Guardar producto</button>
</div>

<script>
let productos = [];
let carrito = [];

// GUARDAR PRODUCTO
function guardarProducto(){
  let obj = {
    nombre: pNombre.value,
    precio: Number(pPrecio.value),
    imagenes: pImagenes.value.split(","),
    categoria: pCategoria.value,
    stock: Number(pStock.value),
    origen: pOrigen.value,
    tiempo: pTiempo.value,
    envio: pEnvio.checked,
    desc: pDesc.value
  };

  productos.push(obj);
  renderCatalogo();
  alert("Producto agregado ‚úî");
}

// MOSTRAR CAT√ÅLOGO
function renderCatalogo(){
  catalogo.innerHTML = "";

  productos.forEach((p, i)=>{
    catalogo.innerHTML += `
      <div class='card'>
        <div class='carousel' id='car${i}'>
          <img src='${p.imagenes[0]}' id='img${i}'>
          <button class='btn-prev' onclick='cambiarImg(${i}, -1)'>‚ùÆ</button>
          <button class='btn-next' onclick='cambiarImg(${i}, 1)'>‚ùØ</button>
          <div class='miniaturas'>
            ${p.imagenes.map((x,j)=>`<img src='${x}' onclick='selImg(${i},${j})' id='thumb${i}_${j}'>`).join("")}
          </div>
        </div>

        <h3>${p.nombre}</h3>
        <p class='precio'>$${p.precio}</p>
        <p>${p.desc}</p>
        <p><b>Marca:</b> ${p.categoria}</p>
        <p><b>Stock:</b> ${p.stock}</p>
        <p><b>Origen:</b> ${p.origen}</p>
        <p><b>Entrega:</b> ${p.tiempo}</p>
        ${p.envio ? "<span style='color:green;font-weight:bold;'>‚ú® Env√≠o gratis</span>" : ""}

        <button class='btn-agregar' onclick='agregarCarrito(${i})'>Agregar al carrito</button>
      </div>
    `;
  });
}

// CARRUSEL
function cambiarImg(i, dir){
  let p = productos[i];
  let img = document.getElementById("img"+i);
  let idx = p.imagenes.indexOf(img.src);
  idx = idx + dir;
  if(idx < 0) idx = p.imagenes.length-1;
  if(idx >= p.imagenes.length) idx = 0;
  img.src = p.imagenes[idx];
}

function selImg(i,j){
  document.getElementById("img"+i).src = productos[i].imagenes[j];
}

// CARRITO
function toggleCarrito(){ carritoPanel.classList.toggle("open"); }

function agregarCarrito(i){
  carrito.push({...productos[i]});
  renderCarrito();
}

function renderCarrito(){
  listaCarrito.innerHTML="";
  let total=0;

  carrito.forEach((p,i)=>{
    listaCarrito.innerHTML += `
      <div class='carrito-item'>
        ${p.nombre} - $${p.precio}
      </div>`;
    total += p.precio;
  });

  totalCarrito.textContent = total;
}

// ENV√çO
function mostrarEnvio(){
  formEnvio.style.display="block";
  toggleCarrito();
}

function finalizarPedido(){
  alert("Pedido enviado ‚úî Te contactar√© por WhatsApp");
}

</script>
</body>
</html>



